{"version":3,"file":"CurrentRefinements.vue.js","sources":["../../../../src/components/CurrentRefinements.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[suit(), noRefinement && suit('','noRefinement')]\"\n    v-if=\"state\"\n  >\n    <slot\n      :refine=\"state.refine\"\n      :items=\"state.items\"\n      :createURL=\"state.createURL\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.attribute\"\n          :class=\"suit('item')\"\n        >\n          <slot\n            name=\"item\"\n            :refine=\"item.refine\"\n            :item=\"item\"\n            :createURL=\"state.createURL\"\n          >\n            <span :class=\"suit('label')\">{{ capitalize(item.label) }}: </span>\n            <span\n              v-for=\"refinement in item.refinements\"\n              :key=\"createItemKey(refinement)\"\n              :class=\"suit('category')\"\n            >\n              <slot\n                name=\"refinement\"\n                :refine=\"item.refine\"\n                :refinement=\"refinement\"\n                :createURL=\"state.createURL\"\n              >\n                <span :class=\"suit('categoryLabel')\">\n                  <q v-if=\"refinement.attribute === 'query'\">{{ refinement.label }}</q>\n                  <template v-else>\n                    {{ refinement.label }}\n                  </template>\n                </span>\n                <button\n                  :class=\"suit('delete')\"\n                  @click=\"item.refine(refinement)\"\n                >\n                  âœ•\n                </button>\n              </slot>\n            </span>\n          </slot>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectCurrentRefinements } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisCurrentRefinements',\n  mixins: [\n    createSuitMixin({ name: 'CurrentRefinements' }),\n    createWidgetMixin(\n      {\n        connector: connectCurrentRefinements,\n      },\n      {\n        $$widgetType: 'ais.currentRefinements',\n      }\n    ),\n    createPanelConsumerMixin(),\n  ],\n  props: {\n    includedAttributes: {\n      type: Array,\n      default: undefined,\n    },\n    excludedAttributes: {\n      type: Array,\n      default: undefined,\n    },\n    transformItems: {\n      type: Function,\n      default: undefined,\n    },\n  },\n  computed: {\n    noRefinement() {\n      return this.state && this.state.items.length === 0;\n    },\n    widgetParams() {\n      return {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    createItemKey({ attribute, value, type, operator }) {\n      return [attribute, type, value, operator].join(':');\n    },\n    capitalize(value) {\n      if (!value) return '';\n      return (\n        value\n          .toString()\n          .charAt(0)\n          .toLocaleUpperCase() + value.toString().slice(1)\n      );\n    },\n  },\n};\n</script>\n"],"names":["render","name","mixins","createSuitMixin","createWidgetMixin","connector","connectCurrentRefinements","$$widgetType","createPanelConsumerMixin","props","includedAttributes","type","Array","default","undefined","excludedAttributes","transformItems","Function","computed","noRefinement","this","state","items","length","widgetParams","methods","createItemKey","ref","attribute","value","join","capitalize","toString","charAt","toLocaleUpperCase","slice"],"mappings":"4QA6De,CAACA,k8BACdC,KAAM,wBACNC,OAAQ,CACNC,EAAgB,CAAEF,KAAM,uBACxBG,EACE,CACEC,UAAWC,GAEb,CACEC,aAAc,2BAGlBC,KAEFC,MAAO,CACLC,mBAAoB,CAClBC,KAAMC,MACNC,aAASC,GAEXC,mBAAoB,CAClBJ,KAAMC,MACNC,aAASC,GAEXE,eAAgB,CACdL,KAAMM,SACNJ,aAASC,IAGbI,SAAU,CACRC,+BACSC,KAAKC,OAAqC,IAA5BD,KAAKC,MAAMC,MAAMC,QAExCC,8BACS,CACLd,mBAAoBU,KAAKV,mBACzBK,mBAAoBK,KAAKL,mBACzBC,eAAgBI,KAAKJ,kBAI3BS,QAAS,CACPC,uBAAcC,qCACL,CAACC,SAAiBC,cAAiBC,KAAK,MAEjDC,oBAAWF,UACJA,EAEHA,EACGG,WACAC,OAAO,GACPC,oBAAsBL,EAAMG,WAAWG,MAAM,GAL/B"}